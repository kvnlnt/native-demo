var flowroute={};flowroute.analytics=function(module){"use strict";return module.log=function(){},module.init=function(){},$(document).on("ready",module.init),module}(flowroute.analytics||{}),flowroute.api=function(module){"use strict";return module.init=function(){},$(document).on("ready",module.init),module}(flowroute.api||{}),flowroute.images=function(module){"use strict";return module.directive="[fr-image]",module.degrade_svg=function(){$(module.directive).each(function(){var el=$(this),src=el.attr("src"),newsrc=src.replace(".svg",".png");el.attr("src",newsrc)})},module.init=function(){Modernizr.svg||module.degrade_svg()},$(document).on("ready",module.init),module}(flowroute.images||{}),flowroute.pubsub=function(module){"use strict";var o=$({});return module.subscribe=function(){o.on.apply(o,arguments)},module.unsubscribe=function(){o.off.apply(o,arguments)},module.publish=function(){o.trigger.apply(o,arguments)},module}(flowroute.pubsub||{}),flowroute.toggle=function(module){"use strict";return module.directive="fr-toggle",module.elements=[],module.toggle=function(el,target){var that=this;return this.el=el,this.$el=$(el),this.target=target||$("#"+this.$el.attr(module.directive)),this.$target=$(this.target),this.$el.on("click",function(){that.$target.toggleClass("show"),that.$el.find("i").toggleClass("fa-rotate-90")}),this},module.each=function(k,v){return module.elements.push(new module.toggle(v)),this},module.init=function(){$("["+module.directive+"]").each(module.each)},$(document).on("ready",module.init),module}(flowroute.toggle||{}),flowroute.util=function(module){"use strict";return module.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}},module}(flowroute.util||{}),flowroute.viewport=function(module){"use strict";return module.contains_part=function(el){var part=$(el),part_top=part.offset().top,in_viewport=part_top>=this.top&&part_top<=this.bottom;return in_viewport},module.set_viewport=function(){var viewport=$(window);return module.height=viewport.height(),module.top=viewport.scrollTop(),module.bottom=module.top+module.height,flowroute.pubsub.publish("VIEWPORT:UPDATE"),module},module.init=function(){$(document).on("scroll",flowroute.util.debounce(module.set_viewport,100)),module.set_viewport()},$(document).on("ready",module.init),module}(flowroute.viewport||{}),flowroute.parts=function(module){"use strict";return module.directive="section",module.parts=[],module.on_view=function(el){var part=$(el),been_viewed=part.hasClass("viewed");return been_viewed||(part.addClass("viewed"),flowroute.analytics.log("part","viewed",part)),el},module.track_views=function(){var unviewed=module.parts.not(".viewed");return unviewed.each(function(k,v){var is_being_viewed=flowroute.viewport.contains_part(v);is_being_viewed&&module.on_view(v)}),unviewed},module.init=function(){module.parts=$(module.directive),flowroute.pubsub.subscribe("VIEWPORT:UPDATE",module.track_views),module.track_views()},$(document).on("ready",module.init),module}(flowroute.parts||{});
//# sourceMappingURL=scripts.min.js.map